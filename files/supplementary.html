<!DOCTYPE html>
<html>
<head>
    <title>The Download Page for Presentations</title>
    <style>
        .password-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .password-form {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 300px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .password-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .password-btn {
            width: 100%;
            padding: 12px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        .password-btn:hover {
            background: #0056b3;
        }
        .password-cancel {
            background: #6c757d;
            margin-top: 5px;
        }
        .password-cancel:hover {
            background: #545b62;
        }
    </style>
    <script>
    document.addEventListener('click', async (e) => {
        if(e.target.classList.contains('protected-link')) {
            e.preventDefault();
            showPasswordModal(e.target);
        }
    });

    function showPasswordModal(link) {
        const modal = document.createElement('div');
        modal.className = 'password-modal';
        modal.style.display = 'flex';
        
        modal.innerHTML = `
            <div class="password-form">
                <h3>Please enter the verification information</h3>
                <input type="password" id="passwordInput" class="password-input" placeholder="Please enter the access password" autocomplete="off">
                <input type="password" id="secretKeyInput" class="password-input" placeholder="Please enter the security key" autocomplete="off">
                <button class="password-btn" onclick="verifyPassword(this)">Verify and download</button>
                <button class="password-btn password-cancel" onclick="closePasswordModal(this)">Cancel</button>
            </div>
        `;
        
        modal.setAttribute('data-link', link.href);
        document.body.appendChild(modal);
        
        setTimeout(() => {
            document.getElementById('passwordInput').focus();
        }, 100);
        
        modal.addEventListener('keypress', function(e) {
            if(e.key === 'Enter') {
                verifyPassword(this.querySelector('.password-btn'));
            }
        });
    }

    function closePasswordModal(btn) {
        const modal = btn.closest('.password-modal');
        document.body.removeChild(modal);
    }

    async function verifyPassword(btn) {
        const modal = btn.closest('.password-modal');
        const passwordInput = document.getElementById('passwordInput');
        const secretKeyInput = document.getElementById('secretKeyInput');
        const link = modal.getAttribute('data-link');
        
        const userInput = passwordInput.value;
        const secretKey = secretKeyInput.value;
        
        if(!userInput || !secretKey) {
            alert('Please enter the password and security key！');
            return;
        }
        const hash = await crypto.subtle.digest('SHA-256', 
            new TextEncoder().encode(userInput + secretKey + "Abyssal_Shuttler_Adrian_Jugram"));
        const hashHex = Array.from(new Uint8Array(hash))
            .map(b => b.toString(16).padStart(2, '0')).join('');
        if(hashHex === "30f35a832a644952e30b013d2f247bf8d85e85d8a873e39654af9afb8c452cbe") {
            window.location.href = link;
            closePasswordModal(btn);
        } else {
            alert('Authentication failed！');
            passwordInput.value = '';
            secretKeyInput.value = '';
            passwordInput.focus();
        }
    }
    </script>
</head>
<body>
    <h1>My Presentations and Supplementary Materials</h1>
	<hr />
	<h2>Advanced Math</h2>
    <ul>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Limitations.pdf" data-filename="Chapter_Limitations.pdf" style="text-decoration: none;">
          Chapter_Limitations</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Differentiations.pdf" data-filename="Chapter_Differentiations.pdf" style="text-decoration: none;">
          Chapter_Differentiations</a></li>
      <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Integrals.pdf" data-filename="Chapter_Integrals.pdf" style="text-decoration: none;">
          Chapter_Integrals</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_ODEs.pdf" data-filename="Chapter_ODEs.pdf" style="text-decoration: none;">
          Chapter_ODEs</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Analytic Geometry.pdf" data-filename="Chapter_Analytic Geometry.pdf" style="text-decoration: none;">
          Chapter_Analytic Geometry</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Multivariable_Differentiations.pdf" data-filename="Chapter_Multivariable_Differentiations.pdf" style="text-decoration: none;">
          Chapter_Multivariable_Differentiations</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Multiple_Integrals.pdf" data-filename="Chapter_Multiple_Integrals.pdf" style="text-decoration: none;">
          Chapter_Multiple_Integrals</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Infinite_Series.pdf" data-filename="Chapter_Infinite_Series.pdf" style="text-decoration: none;">
          Chapter_Infinite_Series</a></li>
    </ul>
	<hr />
	<h2>Linear Algebra</h2>
    <ul>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Determinant.pdf" data-filename="Chapter_Determinant.pdf" style="text-decoration: none;">
          Chapter_Determinant</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Matrices.pdf" data-filename="Chapter_Matrices.pdf" style="text-decoration: none;">
          Chapter_Matrices</a></li>
      <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Vectors.pdf" data-filename="Chapter_Vectors.pdf" style="text-decoration: none;">
          Chapter_Vectors</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_LinearSpaces.pdf" data-filename="Chapter_LinearSpaces.pdf" style="text-decoration: none;">
          Chapter_LinearSpaces</a></li>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Chapter_Quadratic_Forms.pdf" data-filename="Chapter_Quadratic_Forms.pdf" style="text-decoration: none;">
          Chapter_Quadratic_Forms</a></li>
    </ul>
	<hr />
	<h2>Others</h2>
	<ul>
	  <li><a href="#" class="protected-link" data-file="files/presentations/Conic_Sections.pdf" data-filename="Conic_Sections.pdf" style="text-decoration: none;">
          Conic_Sections</a></li>
    </ul>
	<hr />
	<p>The copyright &copy of all files and contexts belong to C.Chen and A. Jugram. </p>
</body>
</html>